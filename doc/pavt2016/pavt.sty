% Для построения заголовка статьи используйте команду \title{}
% Для оформления списка авторов используйте команды \authorsperrow{} и author{}
% Аннотация начинается с команды \abstract и заканчивается командой \endabstract
% Заголовки разделов формируются при помощи команд \section{}, \subsection{}, \subsubsection{}
% Для оформления теорем, лемм и следствий используйте окружения teo, lem и cor соответственно
% Доказательство теоремы начинается командой \proof и завершается командой \endproof
% Литература помещается в окружение biblio.


\ProvidesPackage{pavt}
\usepackage{ifthen}
\usepackage{listings}
\usepackage{mmap} % Включает CMap-таблицу в русскоязычный PDF, чтобы функции поиска и копирования работали правильно

% Параметры страницы
\oddsidemargin=-0.4mm
%\evensidemargin=-0.4mm
\topmargin=-0.4mm
\headheight=0mm
\headsep=0mm
\headheight= 0mm
\textheight = 247mm
\textwidth = 160mm
\footskip=0mm

% Формат заголовка статьи
\def\title#1{
\begingroup
 \def\thefootnote{\fnsymbol{footnote}} % Установка вида сноски для благодарностей
{\LARGE\bf\centering#1\par}
\endgroup
 \setcounter{footnote}{0} % Сброс счетчика после печати благодарностей
 \vspace{16pt}
}

% Формат списка авторов
\def\authors#1{
{\large\centering#1\par}
 \vspace{6pt}
}

% Формат списка организаций
\def\organizations#1{
{\large\centering#1\par}
 \vspace{16pt}
}

%% ширина столбца с авторами
%\dimendef\@authorwidth=100 % номер регистра размера
%
%% макрос для задания ширины столбца с авторами
%\def\authorsperrow#1{%
%	\@authorwidth=\textwidth
%	\divide\@authorwidth by #1
%}
%
%% собственно надпись автора
%\def\@authorbox#1#2#3{%
%	\noindent
%	\begin{minipage}{\@authorwidth}
%		\center\large
%		#1\par\textit{#2}\par\textit{#3}
%		\vspace{16pt}
%	\end{minipage}
%}
%
%% макрос для добавления автора
%\def\author#1#2#3{%
%	%{
%	%	\let\ea=\expandafter
%	%	\ea\gdef\ea\@authors\ea{\@authors \protect\@authorbox{#1}{#2}{#3}{0.5\textwidth}}
%	%}
%	\@authorbox{#1}{#2}{#3}
%}

% Формат аннотации
%\def\abstract{
%\begin{list}{}{
%		\fontseries{m}
%		\fontsize{10pt}{10}
%		\selectfont
%		\topsep=0pt
%		\partopsep=0pt
%		\parskip=0pt
%		\itemsep=0pt
%                \setlength{\rightmargin}{15mm}
%                \setlength{\leftmargin}{\rightmargin}}
%\item[]}                      
%\def\endabstract{\end{list}\normalsize}

\renewenvironment{abstract}{
	\fontseries{m}
	\fontsize{10pt}{12pt}
	\selectfont
	\setlength{\parindent}{0pt}
	\setlength{\leftskip}{15mm}
	\setlength{\rightskip}{15mm}
}{

}

\newcommand{\keywords}[1]{%
	\begin{abstract}
	{\vspace{6pt}
	 {\it Ключевые слова:~}#1}%
	\end{abstract}
}

\newcommand{\keywordsen}[1]{%
	\begin{abstract}
	{\vspace{6pt}
	 {\it Keywords:~}#1}%
	\end{abstract}
}

%% Точка в заголовке раздела
%\def\@sect#1#2#3#4#5#6[#7]#8{\ifnum #2>\c@secnumdepth
%\let\@svsec\@empty\else
%\refstepcounter{#1}\edef\@svsec{\csname the#1\endcsname.\hskip .6em}\fi
%\@tempskipa #5\relax
%\ifdim \@tempskipa>\z@
%\begingroup #6\relax
%  \@hangfrom{\hskip #3\relax\@svsec}{\interlinepenalty \@M #8\par}%
%\endgroup
%\csname #1mark\endcsname{#7}\addcontentsline
%{toc}{#1}{\ifnum #2>\c@secnumdepth \else
%\protect\numberline{\csname the#1\endcsname}\fi
%#7}\else
%\def\@svsechd{#6\hskip #3\relax  %% \relax added 2 May 90
%\@svsec #8\csname #1mark\endcsname
%{#7}\addcontentsline
%{toc}{#1}{\ifnum #2>\c@secnumdepth \else
%\protect\numberline{\csname the#1\endcsname}\fi
%#7}}\fi
%\@xsect{#5}}

% Точка в заголовке раздела
\renewcommand{\@seccntformat}[1]{%
	\csname the#1\endcsname.
}

\pagestyle{empty} % Никаких колонтитулов и нумерации

% Формат заголовков раздела
\def\section{\@startsection{section} % counter name
	    {1} % section level
	    {0pt} % left margin
	    {11pt} % top margin
	    {11pt} % bottom margin
	    {\Large\bf}}

\def\subsection{\@startsection{subsection} % counter name
	    {1} % section level
	    {0pt} % left margin
	    {11pt} % top margin
	    {11pt} % bottom margin
	    {\large\bf}}

\def\subsubsection{\@startsection{subsubsection} % counter name
	    {1} % section level
	    {0pt} % left margin
	    {11pt} % top margin
	    {11pt} % bottom margin
	    {\large\it}}

% Параметры абзаца
\parindent=7mm % Задание абзацных отступов
\parskip=0mm
\leftskip=0mm
\rightskip=0mm

% Подпись к рисункам и таблицам
\abovecaptionskip=6pt
\belowcaptionskip=6pt
\def\capfigure{figure}
\def\captable{table}
\renewcommand{\@makecaption}[2]{%
\vspace{\abovecaptionskip}%
\sbox{\@tempboxa}{\small\textbf{#1.} #2}
\ifdim \wd\@tempboxa >\hsize
{\small\textbf{#1.} #2\par}
\else
\ifx\@captype\capfigure
	\global\@minipagefalse
	\hbox to \hsize {\small\hfil \textbf{#1.} #2 \hfil}%
	%\hbox to \hsize {\textbf{\small #1}. #2 \hfil}%
\else
	\hbox to \hsize {\small\hfil \textbf{#1.} #2 \hfil}%
	
\fi
\fi
\vspace{\belowcaptionskip}}

\newtheorem{teo}{Теорема}
\newtheorem{lem}{Лемма}
\newtheorem{hyp}{Предположение}
\newtheorem{prp}{Предложение}
\newtheorem{ass}{Утверждение}
\newtheorem{cor}{Следствие}

\def\proof{\par\mbox{Д о к а з а т е л ь с т в о.}\hspace{2mm}}
\def\endproof{\par\mbox{Т е о р е м а  д о к а з а н а.}\hspace{2mm}}

\@addtoreset{footnote}{page} % Нумерация сносок на каждой странице начинается заново

\renewcommand{\arraystretch}{1.75}

\newenvironment{biblio}{%
                  \renewcommand{\refname}{Литература}%
		  \raggedright
                  \begin{thebibliography}{99}}%
                  {\end{thebibliography}}
                  
\newenvironment{biblioen}{%
                  \renewcommand{\refname}{References}%
		  \raggedright
                  \begin{thebibliography}{99}}%
                  {\end{thebibliography}}


\renewcommand{\@biblabel}[1]{#1.} % Формат списка литературы

% формат листингов
\lstset{
	basicstyle=\ttfamily\fontsize{10pt}{10pt}\selectfont,
	keywordstyle=\tt\bf,
	frame=single,
	belowskip=0pt
}

% верхние и нижние индексы в текстовом режиме
%\newcommand{\superscript}[1]{\ensuremath{^{\textrm{#1}}}}
%\newcommand{\subscript}[1]{\ensuremath{_{\textrm{#1}}}}
\newcommand{\superscript}[1]{{\footnotesize\raisebox{0.5em}{#1}}}
\newcommand{\subscript}[1]{{\footnotesize\raisebox{-0.5em}{#1}}}